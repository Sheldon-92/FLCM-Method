# Story 3.2: Scholar Command Integration

## Status
üìù Not Started

## Story
**As a** user  
**I want** to trigger Scholar analysis via Claude commands  
**So that** I can quickly analyze content without leaving my workflow

## Acceptance Criteria
1. /flcm scholar command works with multiple input types
2. Framework selection via parameters
3. Progress feedback during analysis
4. Results saved to insights.md automatically
5. Batch processing support for folders

## Tasks / Subtasks
- [ ] Task 1: Scholar command handler (AC: 1, 2)
  - [ ] Subtask 1.1: Create scholar command handler
  - [ ] Subtask 1.2: Input type detection
  - [ ] Subtask 1.3: Framework parameter parsing
  - [ ] Subtask 1.4: Input validation

- [ ] Task 2: Progress reporting (AC: 3)
  - [ ] Subtask 2.1: Progress event emitter
  - [ ] Subtask 2.2: Status message formatter
  - [ ] Subtask 2.3: Time estimation
  - [ ] Subtask 2.4: Completion notification

- [ ] Task 3: Result management (AC: 4)
  - [ ] Subtask 3.1: Output path resolver
  - [ ] Subtask 3.2: File writer
  - [ ] Subtask 3.3: Metadata generator
  - [ ] Subtask 3.4: Result validation

- [ ] Task 4: Batch processing (AC: 5)
  - [ ] Subtask 4.1: Folder scanner
  - [ ] Subtask 4.2: File filter
  - [ ] Subtask 4.3: Parallel processor
  - [ ] Subtask 4.4: Result aggregator

## Dev Notes

### Command Syntax
```bash
# Single file analysis
/flcm scholar --input "research.pdf" --framework "SWOT-USED"

# Multiple frameworks
/flcm scholar --input "article.md" --framework "SWOT-USED,SCAMPER"

# All frameworks
/flcm scholar --input "data.txt" --all-frameworks

# Batch processing
/flcm scholar --batch "folder/" --recursive
/flcm scholar --batch "*.pdf" --framework "5W2H"

# With options
/flcm scholar --input "video.mp4" --transcribe --summarize
```

### Implementation
```typescript
class ScholarCommandHandler implements CommandHandler {
  async execute(args: CommandArgs): Promise<CommandResult> {
    // Parse inputs
    const inputs = this.parseInputs(args);
    const frameworks = this.parseFrameworks(args);
    
    // Initialize Scholar agent
    const scholar = await this.getScholarAgent();
    
    // Process with progress
    const results = await this.processWithProgress(
      scholar,
      inputs,
      frameworks
    );
    
    // Save results
    await this.saveResults(results);
    
    return {
      success: true,
      message: `Analyzed ${inputs.length} inputs`,
      data: results
    };
  }
}
```

## Testing Requirements
- Command parsing tests
- Progress reporting accuracy
- Result file generation
- Batch processing functionality

## Definition of Done
- [ ] Scholar commands working
- [ ] Progress feedback visible
- [ ] Results saved correctly
- [ ] Batch processing functional
- [ ] Tests passing

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-01 | 1.0 | Initial story creation | System |